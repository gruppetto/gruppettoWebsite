function routesConfig(n,e,s){s.html5Mode(!0).hashPrefix("!"),e.otherwise("/"),n.state("home",{url:"/",templateUrl:"app/home/home.html",controller:"homeCtrl",controllerAs:"vm"}).state("inscription",{url:"/inscription",templateUrl:"app/inscription/inscription.html",controller:"inscriptionCtrl",controllerAs:"vm"}).state("connexion",{url:"/connexion",templateUrl:"app/connexion/connexion.html",controller:"connexionCtrl",controllerAs:"vm"}).state("account",{url:"/account",templateUrl:"app/account/account.html",controller:"accountCtrl",controllerAs:"vm"}).state("newGroup",{url:"/newgroup",templateUrl:"app/newGroup/newGroup.html",controller:"newGroupCtrl",controllerAs:"vm"})}routesConfig.$inject=["$stateProvider","$urlRouterProvider","$locationProvider"],angular.module("app",["ui.router","ui.materialize"]),angular.module("app").service("userService",["$q","$http","AuthTool","API_ENDPOINT",function(n,e,s,t){var i,a=this;a.getUser=function(){return i?n.resolve(i):s.getToken()?e.get(t.url+"/memberInfo").then(function(n){return i=n.data.user,n.data.user}):n.resolve(i)},a.deleteUser=function(){i=null}}]),angular.module("app").service("AuthTool",["$window",function(n){var e=this;e.saveToken=function(e){n.localStorage.jwttoken=e},e.getToken=function(){return n.localStorage.jwttoken}}]).service("AuthService",["$window","$q","$http","API_ENDPOINT","AuthTool","userService",function(n,e,s,t,i,a){var o=this;o.register=function(n){return s.post(t.url+"/signup",n)},o.login=function(n){return s.post(t.url+"/authenticate",n)},o.getUserInfo=function(){return s.get(t.url+"/memberInfo")},o.logout=function(){return e.resolve(n.localStorage.removeItem("jwttoken")).then(function(){a.deleteUser()})},o.parseJwt=function(e){var s=e.split(".")[1],t=s.replace("-","+").replace("_","/");return JSON.parse(n.atob(t))},o.isAuthed=function(){var n=i.getToken();return n}}]).factory("AuthInterceptor",["$q","$window","AuthTool","API_ENDPOINT",function(n,e,s,t){return{response:function(n){return 0===n.config.url.indexOf(t.url)&&n.data.token&&s.saveToken(n.data.token),n},request:function(n){var e=s.getToken();return 0===n.url.indexOf(t.url)&&e&&(n.headers.Authorization=e),n},responseError:function(s){return 401===s.status&&e.open("/","_self"),n.reject(s)}}}]).config(["$httpProvider",function(n){n.interceptors.push("AuthInterceptor")}]),angular.module("app").controller("newGroupCtrl",["$http","API_ENDPOINT",function(n,e){var s=this;n.get(e.url+"/memberInfo").then(function(n){s.user=n.data.user}),s.createGroup=function(){console.log(s.group),n.post(e.url+"/users/"+s.user._id+"/groups",s.group).then(function(n){console.log(n)})}}]),angular.module("app").controller("inscriptionCtrl",["$state","$window","AuthService",function(n,e,s){var t=this;t.signup=function(){s.signup(t.user).then(function(n){n.data.success?s.login(t.user).then(function(n){n.data.success?e.open("/inside","_self"):t.errorMessage=n.data.msg})["catch"](function(n){console.log(n)}):t.errorMessage=n.data.msg})["catch"](function(n){console.log(n)})}}]),angular.module("app").component("gptMenu",{templateUrl:"app/menu/menu.html",controllerAs:"vm",controller:["$window","AuthService","userService",function(n,e,s){var t=this;t.isAuthed=e.isAuthed(),s.getUser().then(function(n){t.user=n}),t.logout=function(){e.logout().then(function(){n.open("/","_self")})}}]}),angular.module("app").controller("homeCtrl",["AuthService",function(n){var e=this;e.isAuthed=n.isAuthed()}]),angular.module("app").component("gptFooter",{templateUrl:"app/footer/footer.html"}),angular.module("app").controller("connexionCtrl",["$window","AuthService",function(n,e){var s=this;s.signin=function(){e.login(s.user).then(function(e){console.log(e),e.data.success?n.open("/inside","_self"):s.errorMessage=e.data.msg})["catch"](function(n){console.log(n)})}}]),angular.module("app").controller("accountCtrl",["$http","API_ENDPOINT",function(n,e){var s=this;n.get(e.url+"/memberInfo").then(function(t){s.user=t.data.user,n.get(e.url+"/users/"+s.user._id+"/groups").then(function(n){s.user.groups=n.data,console.log(n.data)})})}]),angular.module("app").run(["$templateCache",function(n){n.put("app/connexion/connexion.html",'<div class="container">\n    <div class="card-panel">\n        <div class="row">\n            <div class="col s12">\n                <h1>Connexion</h1>\n            </div>\n            <div class="col s12">\n                <span class="red-text" ng-show="vm.errorMessage"><i class="left material-icons">warning</i>{{vm.errorMessage}}</span>\n            </div>\n            <form ng-submit="vm.signin()">\n                <div class="col offset-s3 s6">\n                    <div class="input-field">\n                        <input required type="email" id="mail" class="validate" ng-model="vm.user.email">\n                        <label for="mail">Adresse mail</label>\n                    </div>\n                </div>\n                <div class="col offset-s3 s6">\n                    <div class="input-field">\n                        <input required type="password" id="pwd" class="validate" ng-model="vm.user.password">\n                        <label for="pwd">Mot de passe</label>\n                    </div>\n                </div>\n                <div class="col offset-s3 s6">\n                    <button class="btn gruppetto-green white-text" type="submit"><i class="material-icons left">send</i>Connexion</button>\n                </div>\n            </form>\n        </div>\n        <div class="row">\n            <div class="col s12 center">\n                <p>Pas encore membre? <a ng-href="/inscription">Inscrivez-vous</a></p>\n            </div>\n        </div>\n    </div>\n</div>'),n.put("app/account/account.html",'<div class="container">\n    <div class="card-panel">\n        <div class="row">\n            <div class="col s12">\n                <h3>Mon profil</h3>\n            </div>\n        </div>\n        <div class="row">\n            <div class="col s12 m6">\n                <div class="card small">\n                    <div class="card-image">\n                        <img style="margin-top:-50%" ng-src="{{vm.user.imageLink || \'img/backgroundV2.JPG\'}}">\n                        <span class="card-title">{{vm.user.name}}</span>\n                    </div>\n                    <div class="card-content">\n                        <p><i class="material-icons left">email</i><span>{{vm.user.email}}</span></p>\n                    </div>\n                    <div class="card-action">\n                        <a href="/account">éditer</a>\n                    </div>\n                </div>\n            </div>\n            <div class="col s12 m6">\n                <div class="row">\n                    <div class="col s12">\n                        Sports pratiqués\n                    </div>\n                    <div class="col s12">\n                        Niveau estimé\n                    </div>\n                    <div class="col s12">\n                        Fréquence\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="divider"></div>\n        <div class="row">\n            <div class="col s12">\n                <h3>Mes groupes</h3>\n            </div>\n        </div>\n        <div class="row">\n            <div class="col s12 m6" ng-repeat="group in vm.user.groups">\n                <div class="card horizontal">\n                    <div class="card-image">\n                        <img ng-src="{{group.imageLink || \'img/backgroundV2.JPG\'}}">\n                    </div>\n                    <div class="card-stacked">\n                        <div class="card-content">\n                            <h5>{{group.name || \'Nom du groupe\'}}</h5>\n                            <p>{{group.members.length}} membres</p>\n                            <p>Admins: <span ng-repeat="admin in group.admin">{{admin.name}} </span></p>\n\n                        </div>\n                        <div class="card-action">\n                            <a href="#">Quitter</a>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n        </div>\n        <div class="row">\n            <div class="col s12">\n                <a href="/newgroup" class="btn gruppetto-green">Créer un groupe</a>\n            </div>\n        </div>\n\n    </div>\n</div>'),n.put("app/footer/footer.html",'<footer class="page-footer gruppetto-green">\n    <div class="container">\n        <div class="row">\n            <div class="col l6 s12">\n                <h5 class="white-text">On reste en contact?</h5>\n                <p class="grey-text text-lighten-4">\n                    On est sur les réseaux sociaux, comme Facebook et Twitter. Tu peux aussi retrouver notre sélection d\'images de sportifs sur Instagram!\n                </p>\n\n\n            </div>\n            <div class="col l3 s6">\n                <h5 class="white-text">Menu</h5>\n                <ul>\n                    <li><a class="white-text" href="#!">Le concept</a></li>\n                    <li><a class="white-text" href="#!">Ravitaillement de conseils</a></li>\n                    <li ng-hide="user.name"><div class="fb-login-button" data-max-rows="1" data-size="large" data-show-faces="false" data-auto-logout-link="true"></div></li>\n                </ul>\n            </div>\n            <div class="col l3 s6">\n                <h5 class="white-text">Contact</h5>\n                <ul>\n                    <li><a class="white-text">contact.gruppetto@gmail.com</a></li>\n                    <li><a class="white-text" href="https://www.facebook.com/GruppettoSports">Facebook</a></li>\n                    <li><a class="white-text" href="https://www.instagram.com/gruppettosports">Instagram</a></li>\n                    <li><a class="white-text" href="#">On recrute</a></li>\n                </ul>\n            </div>\n        </div>\n    </div>\n    <div class="footer-copyright">\n        <div class="container">\n            Copyright Gruppetto 2016, tous droits réservés\n        </div>\n    </div>\n</footer>'),n.put("app/home/home.html",'\n\n<div id="index-banner" class="parallax-container">\n  <div class="section no-pad-bot">\n    <div class="container">\n      <br><br>\n      <img style="display:block;width:50%;margin:60px auto 0 auto" src="img/Gruppetto_sansdrapeau-14.png">\n      <div class="row center">\n        <h5 class="header col s12 light">L\'application qui permet à tous les sportifs de trouver leurs partenaires !</h5>\n      </div>\n      <div class="row center">\n        <a ng-href="{{vm.isAuthed ? \'/account\' : \'/inscription\' }}" id="download-button" class="btn btn-large gruppetto-green waves-effect waves-light">Commencer</a>\n      </div>\n      <br><br>\n\n    </div>\n  </div>\n  <div parallax><img src="img/backgroundV2.JPG" alt="Unsplashed background img 1"></div>\n</div>\n\n\n<div class="white">\n  <div class="container">\n    <div class="section">\n\n      <!--   Icon Section   -->\n      <div class="row">\n        <div class="col s12 m4">\n          <div class="icon-block">\n            <h2 class="center"><i class="material-icons gruppetto-green-text">group</i></h2>\n            <h5 class="center">Créée ton profil</h5>\n\n            <p class="light">Choisis ton sport, renseigne tes données sportives, tes temps de référence ou ton niveau approximatif, et c\'est parti!</p>\n          </div>\n        </div>\n\n        <div class="col s12 m4">\n          <div class="icon-block">\n            <h2 class="center brown-text"><i class="material-icons gruppetto-green-text">search</i></h2>\n            <h5 class="center">Trouve des coéquipiers</h5>\n\n            <p class="light">Il y a sûrement un sportif ou un entraînement prévu autour de toi! Tu peux également créér ta propre session et inviter tes amis à la rejoindre.</p>\n          </div>\n        </div>\n\n        <div class="col s12 m4">\n          <div class="icon-block">\n            <h2 class="center brown-text"><i class="material-icons gruppetto-green-text">trending_up</i></h2>\n            <h5 class="center">Progressez ensemble</h5>\n\n            <p class="light">Crée des groupes pour courir avec des amis, gagne des points en organisant des entraînements, laisse des conseils pour tes partenaires et progressez ensemble!</p>\n          </div>\n        </div>\n      </div>\n\n    </div>\n  </div>\n\n</div>\n\n\n<div class="parallax-container valign-wrapper">\n  <div class="section no-pad-bot">\n    <div class="container">\n      <div class="row center">\n        <h5 class="header col s12 light">Toutes les semaines, profite de conseils techniques et bonnes pratiques de coach experts</h5>\n      </div>\n    </div>\n  </div>\n  <div parallax><img src="img/backgroundV3.JPG" alt="Unsplashed background img 2"></div>\n</div>\n\n<div class="white">\n  <div class="container">\n    <div class="section">\n\n      <div class="row">\n        <div class="col s12 center">\n          <h3><i class="mdi-content-send brown-text"></i></h3>\n          <h4>Le gruppetto, c\'est une affaire d\'équipe</h4>\n          <p class="left-align light">\n            Gruppetto, c\'est l\'application qui te permet de retrouver des partenaires de sport autour de toi. Manque de motivation? Gruppetto te rappelle que tes co-équipiers comptent sur toi! Nouveau dans la région? Gruppetto te propose des parcours proposés par les autres utilisateurs! Besoin de progresser? Des coachs te donnent des conseils personnalisés pour gravir des paliers! L\'esprit d\'équipe, c\'est la clé.\n          </p>\n        </div>\n      </div>\n\n    </div>\n  </div>\n</div>\n\n\n<div class="parallax-container valign-wrapper">\n  <div class="section no-pad-bot">\n    <div class="container">\n      <div class="row center">\n        <h1 class="header col s12 light">Alors allons-y!</h1>\n      </div>\n    </div>\n  </div>\n  <div parallax><img src="img/backgroundV4.jpg" alt="Unsplashed background img 3"></div>\n</div>\n\n'),n.put("app/inscription/inscription.html",'<div class="container">\n    <div class="card-panel">\n        <div class="row">\n            <div class="col s12">\n                <h1>Inscription</h1>\n            </div>\n            <div class="col s12">\n                <span class="red-text" ng-show="vm.errorMessage"><i class="left material-icons">warning</i>{{vm.errorMessage}}</span>\n            </div>\n            <form ng-submit="vm.signup()">\n                <div class="col offset-s3 s6">\n                    <div class="input-field">\n                        <input required type="text" id="name" class="validate" ng-model="vm.user.name">\n                        <label for="name">Nom</label>\n                    </div>\n                </div>\n                <div class="col offset-s3 s6">\n                    <div class="input-field">\n                        <input required type="email" id="mail" class="validate" ng-model="vm.user.email">\n                        <label for="mail">Adresse mail</label>\n                    </div>\n                </div>\n                <div class="col offset-s3 s6">\n                    <div class="input-field">\n                        <input required type="password" id="pwd" class="validate" ng-model="vm.user.password">\n                        <label for="pwd">Mot de passe</label>\n                    </div>\n                </div>\n                <div class="col offset-s3 s6">\n                    <button class="btn gruppetto-green white-text" type="submit"><i class="material-icons left">send</i>Inscription</button>\n                </div>\n            </form>\n        </div>\n        <div class="row">\n            <div class="col s12 center">\n                <p>Déjà membre? <a ng-href="/connexion">Connectez-vous</a></p>\n            </div>\n        </div>\n    </div>\n</div>'),n.put("app/menu/menu.html",'<nav class="gruppetto-green" role="navigation">\n    <div class="nav-wrapper container">\n        <a id="logo-container" ng-href="/" class="brand-logo"><img src="img/logo1.png" class="responsive-img"></a>\n        <ul class="right hide-on-med-and-down">\n            <li ng-show="vm.isAuthed">\n                <a ng-href="/account" class="white-text">{{vm.user.name}}</a>\n            </li>\n            <li>\n                <a ng-hide="vm.isAuthed" class="white-text" ng-href="/connexion">Connexion</a>\n                <a ng-show="vm.isAuthed" class="white-text" ng-click="vm.logout();">Déconnexion</a>\n            </li>\n        </ul>\n\n        <ul id="nav-mobile" class="side-nav">\n            <li><a href="/connexion">Connexion</a></li>\n        </ul>\n        <a href="#" data-activates="nav-mobile" class="button-collapse"><i class="material-icons">menu</i></a>\n    </div>\n</nav>'),n.put("app/newGroup/newGroup.html",'<div class="container">\n    <div class="card-panel">\n        <div class="row">\n            <div class="col s12">\n                <h3>Créer un groupe</h3>\n            </div>\n        </div>\n        <div class="row">\n            <div class="col s12 offset-m3 m6">\n                <form ng-submit="vm.createGroup()">\n                    <div class="col offset-s3 s6">\n                        <div class="input-field">\n                            <input required type="text" id="name" class="validate" ng-model="vm.group.name">\n                            <label for="name">Nom du groupe</label>\n                        </div>\n                    </div>\n                    <div class="col offset-s3 s6">\n                        <button class="btn gruppetto-green white-text" type="submit"><i class="material-icons left">send</i>Créer</button>\n                    </div>\n                </form>\n            </div>\n        </div>\n    </div>\n</div>')}]),angular.module("app").config(routesConfig),angular.module("app").constant("AUTH_EVENTS",{notAuthenticated:"auth-not-authenticated"}).constant("API_ENDPOINT",{url:"http://gruppettoapi.herokuapp.com"});
//# sourceMappingURL=../maps/scripts/app-801044e098.js.map
